"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5873],{5107(n,e,t){t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"components","title":"Components & Data Loading","description":"Build interactive pages with Preact components and load data with loader functions.","source":"@site/docs/components.md","sourceDirName":".","slug":"/components","permalink":"/docs/components","draft":false,"unlisted":false,"editUrl":"https://github.com/kessud2021/Jen.js/tree/main/website/docs/components.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docs","previous":{"title":"SSG vs SSR","permalink":"/docs/ssg-ssr"},"next":{"title":"Data Loading","permalink":"/docs/data-loading"}}');var a=t(5656),r=t(6145);const o={sidebar_position:6},i="Components & Data Loading",c={},l=[{value:"Creating Components",id:"creating-components",level:2},{value:"Simple Component",id:"simple-component",level:3},{value:"Component with State",id:"component-with-state",level:3},{value:"Reusable Components",id:"reusable-components",level:3},{value:"Data Loading",id:"data-loading",level:2},{value:"Basic Loader",id:"basic-loader",level:3},{value:"Database Queries",id:"database-queries",level:3},{value:"API Calls",id:"api-calls",level:3},{value:"Query Parameters",id:"query-parameters",level:2},{value:"Dynamic Routes",id:"dynamic-routes",level:2},{value:"Head Management",id:"head-management",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Conditional Rendering",id:"conditional-rendering",level:2},{value:"Styling Components",id:"styling-components",level:2},{value:"Forms",id:"forms",level:2},{value:"Hooks",id:"hooks",level:2},{value:"Performance Tips",id:"performance-tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"components--data-loading",children:"Components & Data Loading"})}),"\n",(0,a.jsx)(e.p,{children:"Build interactive pages with Preact components and load data with loader functions."}),"\n",(0,a.jsx)(e.h2,{id:"creating-components",children:"Creating Components"}),"\n",(0,a.jsx)(e.p,{children:"Jen.js uses Preact (3KB) instead of React. Preact is 100% JSX compatible."}),"\n",(0,a.jsx)(e.h3,{id:"simple-component",children:"Simple Component"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:'// site/(home).tsx\n\nexport default function Home() {\n  return (\n    <div className="home">\n      <h1>Welcome</h1>\n      <p>This is your homepage.</p>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"component-with-state",children:"Component with State"}),"\n",(0,a.jsx)(e.p,{children:"Use Preact hooks:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(counter).tsx\n\nimport { useState } from 'preact/hooks';\n\nexport default function Counter() {\n  const [count, setCount] = useState(0);\n  \n  return (\n    <div>\n      <h1>Count: {count}</h1>\n      <button onClick={() => setCount(count + 1)}>\n        Increment\n      </button>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"reusable-components",children:"Reusable Components"}),"\n",(0,a.jsxs)(e.p,{children:["Create shared components in ",(0,a.jsx)(e.code,{children:"site/components/"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:'// site/components/Button.tsx\n\ninterface ButtonProps {\n  label: string;\n  onClick: () => void;\n}\n\nexport default function Button({ label, onClick }: ButtonProps) {\n  return (\n    <button onClick={onClick} className="btn">\n      {label}\n    </button>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Use in routes:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(home).tsx\n\nimport Button from './components/Button.tsx';\n\nexport default function Home() {\n  return (\n    <div>\n      <h1>Home</h1>\n      <Button label=\"Click me\" onClick={() => alert('Clicked!')} />\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"data-loading",children:"Data Loading"}),"\n",(0,a.jsxs)(e.p,{children:["Load data before rendering with the ",(0,a.jsx)(e.code,{children:"loader"})," function."]}),"\n",(0,a.jsx)(e.h3,{id:"basic-loader",children:"Basic Loader"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(about).tsx\n\nimport type { LoaderContext } from '@src/core/types';\n\ninterface AboutData {\n  title: string;\n  content: string;\n  author: string;\n}\n\nexport async function loader(ctx: LoaderContext): Promise<AboutData> {\n  return {\n    title: 'About Us',\n    content: 'We are a great company...',\n    author: 'John Doe'\n  };\n}\n\nexport default function About({ data }: { data: AboutData }) {\n  return (\n    <article>\n      <h1>{data.title}</h1>\n      <p>{data.content}</p>\n      <p>By {data.author}</p>\n    </article>\n  );\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"data"})," prop contains what your loader returns."]}),"\n",(0,a.jsx)(e.h3,{id:"database-queries",children:"Database Queries"}),"\n",(0,a.jsx)(e.p,{children:"Fetch data from your database:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/posts/($id).tsx\n\nimport { DB } from '@src/db';\nimport type { LoaderContext } from '@src/core/types';\n\nexport async function loader(ctx: LoaderContext) {\n  const { id } = ctx.params;\n  \n  // Query database\n  const db = new DB();\n  const post = await db.query('posts', { id: parseInt(id) });\n  \n  if (!post) {\n    return { notFound: true };  // 404 page\n  }\n  \n  return post;\n}\n\nexport default function Post({ data }: any) {\n  return (\n    <article>\n      <h1>{data.title}</h1>\n      <p>{data.content}</p>\n    </article>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"api-calls",children:"API Calls"}),"\n",(0,a.jsx)(e.p,{children:"Fetch from external APIs:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(news).tsx\n\nexport async function loader(ctx: LoaderContext) {\n  const res = await fetch('https://api.example.com/news');\n  const news = await res.json();\n  \n  return { news };\n}\n\nexport default function News({ data }: any) {\n  return (\n    <div>\n      <h1>Latest News</h1>\n      <ul>\n        {data.news.map((item: any) => (\n          <li key={item.id}>{item.title}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,a.jsx)(e.p,{children:"Access URL query strings:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(search).tsx\n\nexport async function loader(ctx: LoaderContext) {\n  const { q } = ctx.query;\n  \n  if (!q) {\n    return { results: [] };\n  }\n  \n  const results = await searchDatabase(q);\n  return { results };\n}\n\nexport default function Search({ data }: any) {\n  return (\n    <div>\n      <h1>Search Results</h1>\n      <ul>\n        {data.results.map((result: any) => (\n          <li key={result.id}>{result.title}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Visit ",(0,a.jsx)(e.code,{children:"/search?q=typescript"})," to search."]}),"\n",(0,a.jsx)(e.h2,{id:"dynamic-routes",children:"Dynamic Routes"}),"\n",(0,a.jsx)(e.p,{children:"Pass params to your component:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/users/($username).tsx\n\nexport async function loader(ctx: LoaderContext) {\n  const { username } = ctx.params;\n  \n  const user = await fetchUser(username);\n  \n  return { user };\n}\n\nexport default function User({ data }: any) {\n  return (\n    <div>\n      <h1>{data.user.name}</h1>\n      <p>@{data.user.username}</p>\n      <p>{data.user.bio}</p>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Visit ",(0,a.jsx)(e.code,{children:"/users/alice"})," to see Alice's profile."]}),"\n",(0,a.jsx)(e.h2,{id:"head-management",children:"Head Management"}),"\n",(0,a.jsx)(e.p,{children:"Set custom head tags per page:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(about).tsx\n\nexport function Head({ data }: any) {\n  return (\n    <>\n      <title>{data.title}</title>\n      <meta name=\"description\" content={data.description} />\n      <meta property=\"og:title\" content={data.title} />\n      <meta property=\"og:image\" content={data.image} />\n    </>\n  );\n}\n\nexport async function loader(ctx: LoaderContext) {\n  return {\n    title: 'About Us',\n    description: 'Learn about our company',\n    image: 'https://example.com/og-image.jpg'\n  };\n}\n\nexport default function About({ data }: any) {\n  return <h1>{data.title}</h1>;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(e.p,{children:"Handle errors gracefully:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/posts/($id).tsx\n\nexport async function loader(ctx: LoaderContext) {\n  const { id } = ctx.params;\n  \n  try {\n    const post = await fetchPost(id);\n    \n    if (!post) {\n      return { notFound: true };\n    }\n    \n    return post;\n  } catch (error) {\n    console.error('Failed to load post:', error);\n    return { error: 'Failed to load post' };\n  }\n}\n\nexport default function Post({ data }: any) {\n  if (data.notFound) {\n    return <h1>Post not found</h1>;\n  }\n  \n  if (data.error) {\n    return <h1>Error: {data.error}</h1>;\n  }\n  \n  return <h1>{data.title}</h1>;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"conditional-rendering",children:"Conditional Rendering"}),"\n",(0,a.jsx)(e.p,{children:"Show content based on state:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(dashboard).tsx\n\nimport { useState, useEffect } from 'preact/hooks';\n\nexport default function Dashboard() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  \n  useEffect(() => {\n    fetch('/api/dashboard')\n      .then(r => r.json())\n      .then(d => {\n        setData(d);\n        setLoading(false);\n      });\n  }, []);\n  \n  if (loading) return <p>Loading...</p>;\n  if (!data) return <p>No data</p>;\n  \n  return (\n    <div>\n      <h1>Dashboard</h1>\n      {/* Render data */}\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"styling-components",children:"Styling Components"}),"\n",(0,a.jsx)(e.p,{children:"Use CSS classes with any framework:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"// site/(home).tsx\n\nimport styles from './home.module.css';\n\nexport default function Home() {\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Welcome</h1>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.p,{children:"Or inline styles:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"export default function Home() {\n  return (\n    <div style={{ padding: '2rem', textAlign: 'center' }}>\n      <h1>Welcome</h1>\n    </div>\n  );\n}\n"})}),"\n",(0,a.jsx)(e.p,{children:"Or Tailwind:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:'export default function Home() {\n  return (\n    <div className="p-8 text-center">\n      <h1 className="text-4xl font-bold">Welcome</h1>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"forms",children:"Forms"}),"\n",(0,a.jsx)(e.p,{children:"Handle form submissions:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:'// site/(contact).tsx\n\nimport { useState } from \'preact/hooks\';\n\nexport default function Contact() {\n  const [submitted, setSubmitted] = useState(false);\n  \n  const handleSubmit = async (e: Event) => {\n    e.preventDefault();\n    \n    const form = e.target as HTMLFormElement;\n    const formData = new FormData(form);\n    \n    const response = await fetch(\'/api/contact\', {\n      method: \'POST\',\n      body: formData\n    });\n    \n    if (response.ok) {\n      setSubmitted(true);\n    }\n  };\n  \n  if (submitted) {\n    return <p>Thank you for contacting us!</p>;\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input type="text" name="name" placeholder="Name" required />\n      <input type="email" name="email" placeholder="Email" required />\n      <textarea name="message" placeholder="Message" required></textarea>\n      <button type="submit">Send</button>\n    </form>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"hooks",children:"Hooks"}),"\n",(0,a.jsx)(e.p,{children:"Preact supports all the common hooks:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useState"})," - Manage state"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useEffect"})," - Run side effects"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useCallback"})," - Memoize functions"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useRef"})," - Store mutable values"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useMemo"})," - Memoize values"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useReducer"})," - Complex state management"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"useContext"})," - Access context"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"import {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  useMemo,\n  useReducer,\n  useContext\n} from 'preact/hooks';\n"})}),"\n",(0,a.jsx)(e.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsxs)(e.strong,{children:["Use ",(0,a.jsx)(e.code,{children:"useMemo"})," for expensive calculations:"]})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"const expensiveValue = useMemo(() => {\n  return computeExpensiveValue(data);\n}, [data]);\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"2",children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsxs)(e.strong,{children:["Use ",(0,a.jsx)(e.code,{children:"useCallback"})," for stable function references:"]})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"const handleClick = useCallback(() => {\n  doSomething();\n}, []);\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"3",children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Lazy load components:"})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"const HeavyComponent = lazy(() => import('./Heavy.tsx'));\n\nexport default function Page() {\n  return (\n    <Suspense fallback={<p>Loading...</p>}>\n      <HeavyComponent />\n    </Suspense>\n  );\n}\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"4",children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Cache loader data when possible:"})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-typescript",children:"export const renderConfig = {\n  cache: { ttl: 3600 }  // Cache for 1 hour\n};\n"})}),"\n",(0,a.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"./api",children:"API Routes"})," - Build REST endpoints"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"./database",children:"Database"})," - Store and query data"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"./auth",children:"Authentication"})," - Secure your site"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},6145(n,e,t){t.d(e,{R:()=>o,x:()=>i});var s=t(7140);const a={},r=s.createContext(a);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);