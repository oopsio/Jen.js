"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8108],{6145(e,n,s){s.d(n,{R:()=>d,x:()=>l});var t=s(7140);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}},9205(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"project-structure","title":"Project Structure","description":"Jen.js follows a well-organized structure for both framework code and application routes.","source":"@site/docs/project-structure.md","sourceDirName":".","slug":"/project-structure","permalink":"/docs/project-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/kessud2021/Jen.js/tree/main/website/docs/project-structure.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"Installation","permalink":"/docs/installation"},"next":{"title":"Routing","permalink":"/docs/routing"}}');var r=s(5656),i=s(6145);const d={sidebar_position:3},l="Project Structure",o={},c=[{value:"Framework Layout",id:"framework-layout",level:2},{value:"Site Routes Directory",id:"site-routes-directory",level:2},{value:"Route File Naming",id:"route-file-naming",level:3},{value:"Dynamic Segments",id:"dynamic-segments",level:3},{value:"API Routes",id:"api-routes",level:3},{value:"Key Files",id:"key-files",level:2},{value:"<code>jen.config.ts</code>",id:"jenconfigts",level:3},{value:"<code>build.ts</code>",id:"buildts",level:3},{value:"<code>server.ts</code>",id:"serverts",level:3},{value:"<code>tsconfig.json</code>",id:"tsconfigjson",level:3},{value:"Source Structure",id:"source-structure",level:2},{value:"Framework Modules",id:"framework-modules",level:3},{value:"Type Aliases",id:"type-aliases",level:3},{value:"Build Output",id:"build-output",level:2},{value:"Development vs Production",id:"development-vs-production",level:2},{value:"Development (<code>npm run dev</code>)",id:"development-npm-run-dev",level:3},{value:"Production (<code>npm run build &amp;&amp; npm run start</code>)",id:"production-npm-run-build--npm-run-start",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"project-structure",children:"Project Structure"})}),"\n",(0,r.jsx)(n.p,{children:"Jen.js follows a well-organized structure for both framework code and application routes."}),"\n",(0,r.jsx)(n.h2,{id:"framework-layout",children:"Framework Layout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Jen.js/\n\u251c\u2500\u2500 src/                    # Framework source (TypeScript)\n\u2502   \u251c\u2500\u2500 build/             # Static site generation\n\u2502   \u2502   \u2514\u2500\u2500 build.ts       # SSG orchestrator\n\u2502   \u251c\u2500\u2500 server/            # HTTP server\n\u2502   \u2502   \u251c\u2500\u2500 app.ts         # Express-like app\n\u2502   \u2502   \u251c\u2500\u2500 api.ts         # API route handler\n\u2502   \u2502   \u2514\u2500\u2500 runtimeServe.ts # Server-side rendering\n\u2502   \u251c\u2500\u2500 core/              # Core utilities\n\u2502   \u2502   \u251c\u2500\u2500 config.ts      # Config loading\n\u2502   \u2502   \u251c\u2500\u2500 types.ts       # Framework types\n\u2502   \u2502   \u251c\u2500\u2500 routes/        # Routing logic\n\u2502   \u2502   \u2514\u2500\u2500 http.ts        # HTTP utilities\n\u2502   \u251c\u2500\u2500 runtime/           # Preact runtime\n\u2502   \u2502   \u251c\u2500\u2500 render.ts      # SSR rendering\n\u2502   \u2502   \u251c\u2500\u2500 hydrate.ts     # Client hydration\n\u2502   \u2502   \u2514\u2500\u2500 client-runtime.ts # Browser runtime\n\u2502   \u251c\u2500\u2500 native/            # Native module stubs\n\u2502   \u2502   \u251c\u2500\u2500 dev-server.ts  # Dev server\n\u2502   \u2502   \u251c\u2500\u2500 bundler.ts     # Asset bundling\n\u2502   \u2502   \u251c\u2500\u2500 style-compiler.ts # CSS compilation\n\u2502   \u2502   \u2514\u2500\u2500 optimizer.ts   # Code optimization\n\u2502   \u251c\u2500\u2500 db/                # Database layer\n\u2502   \u2502   \u251c\u2500\u2500 index.ts       # DB manager\n\u2502   \u2502   \u251c\u2500\u2500 types.ts       # DB types\n\u2502   \u2502   \u251c\u2500\u2500 schema.ts      # Schema management\n\u2502   \u2502   \u251c\u2500\u2500 migrations.ts  # Migration runner\n\u2502   \u2502   \u251c\u2500\u2500 luaHooks.ts    # Lua script hooks\n\u2502   \u2502   \u2514\u2500\u2500 drivers/       # Database drivers\n\u2502   \u2502       \u251c\u2500\u2500 sqlite.ts\n\u2502   \u2502       \u251c\u2500\u2500 postgres.ts\n\u2502   \u2502       \u251c\u2500\u2500 mysql.ts\n\u2502   \u2502       \u2514\u2500\u2500 mongodb.ts\n\u2502   \u251c\u2500\u2500 api/               # REST API helpers\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 auth/              # Authentication\n\u2502   \u2502   \u2514\u2500\u2500 jwt.ts         # JWT tokens\n\u2502   \u251c\u2500\u2500 cache/             # Caching layer\n\u2502   \u2502   \u2514\u2500\u2500 redis.ts       # Redis client\n\u2502   \u251c\u2500\u2500 middleware/        # Express-style middleware\n\u2502   \u2502   \u251c\u2500\u2500 types.ts       # Middleware types\n\u2502   \u2502   \u2514\u2500\u2500 runner.ts      # Middleware executor\n\u2502   \u251c\u2500\u2500 plugin/            # Plugin system\n\u2502   \u2502   \u251c\u2500\u2500 loader.ts      # Plugin loader\n\u2502   \u2502   \u2514\u2500\u2500 plugins/       # Built-in plugins\n\u2502   \u251c\u2500\u2500 i18n/              # Internationalization\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 graphql/           # GraphQL support\n\u2502   \u2502   \u251c\u2500\u2500 schema.ts\n\u2502   \u2502   \u251c\u2500\u2500 resolvers.ts\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 build-tools/       # Build utilities\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u2514\u2500\u2500 shared/            # Shared utilities\n\u2502       \u2514\u2500\u2500 log.ts         # Logging\n\u251c\u2500\u2500 site/                  # Example site / your routes\n\u2502   \u251c\u2500\u2500 (home).tsx         # Homepage (route: /)\n\u2502   \u251c\u2500\u2500 (about).tsx        # About page (route: /about)\n\u2502   \u251c\u2500\u2500 posts/\n\u2502   \u2502   \u2514\u2500\u2500 ($id).tsx      # Dynamic route (route: /posts/:id)\n\u2502   \u2514\u2500\u2500 api/\n\u2502       \u2514\u2500\u2500 (users).ts     # API route (route: /api/users)\n\u251c\u2500\u2500 dist/                  # Build output (generated)\n\u2502   \u251c\u2500\u2500 index/             # Rendered pages\n\u2502   \u251c\u2500\u2500 api/               # API routes\n\u2502   \u251c\u2500\u2500 styles.css         # Global styles\n\u2502   \u2514\u2500\u2500 assets/            # Static files\n\u251c\u2500\u2500 native/                # Native source (deprecated)\n\u251c\u2500\u2500 build.ts               # Build entry point\n\u251c\u2500\u2500 server.ts              # Server entry point\n\u251c\u2500\u2500 jen.config.ts          # Framework configuration\n\u251c\u2500\u2500 tsconfig.json          # TypeScript config\n\u251c\u2500\u2500 package.json           # Dependencies\n\u2514\u2500\u2500 README.md              # Project readme\n"})}),"\n",(0,r.jsx)(n.h2,{id:"site-routes-directory",children:"Site Routes Directory"}),"\n",(0,r.jsxs)(n.p,{children:["Your application routes live in the ",(0,r.jsx)(n.code,{children:"site/"})," directory. Routes are auto-discovered using file-based routing."]}),"\n",(0,r.jsx)(n.h3,{id:"route-file-naming",children:"Route File Naming"}),"\n",(0,r.jsxs)(n.p,{children:["Routes use the pattern: ",(0,r.jsx)(n.code,{children:"(routeName).tsx"})," or ",(0,r.jsx)(n.code,{children:"(routeName).ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u251c\u2500\u2500 (home).tsx           \u2192 / (homepage)\n\u251c\u2500\u2500 (about).tsx          \u2192 /about\n\u251c\u2500\u2500 (contact).tsx        \u2192 /contact\n\u251c\u2500\u2500 posts/\n\u2502   \u251c\u2500\u2500 (index).tsx      \u2192 /posts\n\u2502   \u2514\u2500\u2500 ($id).tsx        \u2192 /posts/:id (dynamic)\n\u251c\u2500\u2500 api/\n\u2502   \u251c\u2500\u2500 (users).ts       \u2192 /api/users\n\u2502   \u2514\u2500\u2500 (posts).ts       \u2192 /api/posts\n\u2514\u2500\u2500 admin/\n    \u2514\u2500\u2500 (dashboard).tsx  \u2192 /admin/dashboard\n"})}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-segments",children:"Dynamic Segments"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"$"})," prefix for dynamic route parameters:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"($id).tsx"})," \u2192 ",(0,r.jsx)(n.code,{children:"/:id"})," (single parameter)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"(...rest).tsx"})," \u2192 ",(0,r.jsx)(n.code,{children:"/*"})," (catch-all)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"($slug).tsx"})," \u2192 ",(0,r.jsx)(n.code,{children:"/:slug"})," (named parameter)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"api-routes",children:"API Routes"}),"\n",(0,r.jsxs)(n.p,{children:["API routes are ",(0,r.jsx)(n.code,{children:".ts"})," files (not JSX components):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/api/\n\u251c\u2500\u2500 (users).ts      \u2192 /api/users\n\u251c\u2500\u2500 (posts).ts      \u2192 /api/posts\n\u2514\u2500\u2500 auth/\n    \u2514\u2500\u2500 (login).ts  \u2192 /api/auth/login\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-files",children:"Key Files"}),"\n",(0,r.jsx)(n.h3,{id:"jenconfigts",children:(0,r.jsx)(n.code,{children:"jen.config.ts"})}),"\n",(0,r.jsx)(n.p,{children:"Framework configuration - rendering mode, routing patterns, plugin settings."}),"\n",(0,r.jsx)(n.h3,{id:"buildts",children:(0,r.jsx)(n.code,{children:"build.ts"})}),"\n",(0,r.jsxs)(n.p,{children:["SSG build orchestrator - runs during ",(0,r.jsx)(n.code,{children:"npm run build"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"serverts",children:(0,r.jsx)(n.code,{children:"server.ts"})}),"\n",(0,r.jsxs)(n.p,{children:["Server entry point - runs during ",(0,r.jsx)(n.code,{children:"npm run dev"})," and ",(0,r.jsx)(n.code,{children:"npm run start"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"tsconfigjson",children:(0,r.jsx)(n.code,{children:"tsconfig.json"})}),"\n",(0,r.jsx)(n.p,{children:"TypeScript configuration with strict mode and path aliases."}),"\n",(0,r.jsx)(n.h2,{id:"source-structure",children:"Source Structure"}),"\n",(0,r.jsx)(n.h3,{id:"framework-modules",children:"Framework Modules"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Module"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/build/"})}),(0,r.jsx)(n.td,{children:"Static site generation (SSG)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/server/"})}),(0,r.jsx)(n.td,{children:"HTTP server & request handling"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/core/"})}),(0,r.jsx)(n.td,{children:"Config, routing, paths, types"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/runtime/"})}),(0,r.jsx)(n.td,{children:"Preact SSR + client hydration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/native/"})}),(0,r.jsx)(n.td,{children:"Native module stubs (Rust/C++)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/db/"})}),(0,r.jsx)(n.td,{children:"Multi-driver database support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/api/"})}),(0,r.jsx)(n.td,{children:"REST API utilities"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/auth/"})}),(0,r.jsx)(n.td,{children:"JWT authentication"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/cache/"})}),(0,r.jsx)(n.td,{children:"Redis caching layer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/plugin/"})}),(0,r.jsx)(n.td,{children:"Plugin system & loader"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/middleware/"})}),(0,r.jsx)(n.td,{children:"Express-style middleware"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/i18n/"})}),(0,r.jsx)(n.td,{children:"Internationalization"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"src/graphql/"})}),(0,r.jsx)(n.td,{children:"GraphQL support"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"type-aliases",children:"Type Aliases"}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"tsconfig.json"}),", the ",(0,r.jsx)(n.code,{children:"@src/*"})," alias maps to ",(0,r.jsx)(n.code,{children:"src/*"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "paths": {\n    "@src/*": ["src/*"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Use in your routes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { DB } from '@src/db';\nimport { signToken } from '@src/auth/jwt';\nimport config from '@src/core/config';\n"})}),"\n",(0,r.jsx)(n.h2,{id:"build-output",children:"Build Output"}),"\n",(0,r.jsxs)(n.p,{children:["After running ",(0,r.jsx)(n.code,{children:"npm run build"}),", output appears in ",(0,r.jsx)(n.code,{children:"dist/"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dist/\n\u251c\u2500\u2500 index/              # Rendered HTML pages\n\u2502   \u251c\u2500\u2500 index.html      # Homepage\n\u2502   \u251c\u2500\u2500 about/\n\u2502   \u2502   \u2514\u2500\u2500 index.html  # /about\n\u2502   \u2514\u2500\u2500 posts/\n\u2502       \u251c\u2500\u2500 1/\n\u2502       \u2502   \u2514\u2500\u2500 index.html\n\u2502       \u2514\u2500\u2500 2/\n\u2502           \u2514\u2500\u2500 index.html\n\u251c\u2500\u2500 api/                # API routes (if applicable)\n\u251c\u2500\u2500 styles.css          # Global CSS\n\u251c\u2500\u2500 assets/             # Images, fonts, etc.\n\u2514\u2500\u2500 manifest.json       # Build manifest\n"})}),"\n",(0,r.jsx)(n.h2,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,r.jsxs)(n.h3,{id:"development-npm-run-dev",children:["Development (",(0,r.jsx)(n.code,{children:"npm run dev"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Runs SSR server on port 3000"}),"\n",(0,r.jsx)(n.li,{children:"Hot reload on file changes"}),"\n",(0,r.jsx)(n.li,{children:"Full error messages & stack traces"}),"\n",(0,r.jsx)(n.li,{children:"No optimization"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"production-npm-run-build--npm-run-start",children:["Production (",(0,r.jsx)(n.code,{children:"npm run build && npm run start"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Builds static site (SSG)"}),"\n",(0,r.jsx)(n.li,{children:"Minified output"}),"\n",(0,r.jsx)(n.li,{children:"Asset optimization"}),"\n",(0,r.jsx)(n.li,{children:"Ready to deploy"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./routing",children:"Routing"})," - Understand file-based routing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./components",children:"Components & Data"})," - Build pages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./api",children:"API Routes"})," - Create REST endpoints"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);