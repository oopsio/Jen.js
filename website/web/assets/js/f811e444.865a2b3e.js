"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[268],{3546(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"routing","title":"Routing","description":"Jen.js uses file-based routing with zero configuration. Routes are auto-discovered from your site/ directory.","source":"@site/docs/routing.md","sourceDirName":".","slug":"/routing","permalink":"/docs/routing","draft":false,"unlisted":false,"editUrl":"https://github.com/kessud2021/Jen.js/tree/main/website/docs/routing.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docs","previous":{"title":"Project Structure","permalink":"/docs/project-structure"},"next":{"title":"SSG vs SSR","permalink":"/docs/ssg-ssr"}}');var r=s(5656),i=s(6145);const d={sidebar_position:4},o="Routing",c={},a=[{value:"Basic Routing",id:"basic-routing",level:2},{value:"Simple Routes",id:"simple-routes",level:3},{value:"Nested Routes",id:"nested-routes",level:2},{value:"Dynamic Routes",id:"dynamic-routes",level:2},{value:"Single Parameter",id:"single-parameter",level:3},{value:"Multiple Parameters",id:"multiple-parameters",level:3},{value:"Catch-All Routes",id:"catch-all-routes",level:3},{value:"Route Configuration",id:"route-configuration",level:2},{value:"File Extensions",id:"file-extensions",level:3},{value:"Export Properties",id:"export-properties",level:3},{value:"Default Export (Required for Pages)",id:"default-export-required-for-pages",level:4},{value:"<code>loader</code> Function (Optional)",id:"loader-function-optional",level:4},{value:"<code>Head</code> Function (Optional)",id:"head-function-optional",level:4},{value:"API Routes",id:"api-routes",level:2},{value:"Dynamic API Routes",id:"dynamic-api-routes",level:3},{value:"Query Parameters",id:"query-parameters",level:2},{value:"Route Context",id:"route-context",level:2},{value:"Rendering Modes",id:"rendering-modes",level:2},{value:"SSG (Static Site Generation)",id:"ssg-static-site-generation",level:3},{value:"SSR (Server-Side Rendering)",id:"ssr-server-side-rendering",level:3},{value:"Route Prefetching",id:"route-prefetching",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Blog Post List &amp; Detail",id:"blog-post-list--detail",level:3},{value:"Admin Dashboard",id:"admin-dashboard",level:3},{value:"API with Authentication",id:"api-with-authentication",level:3},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"routing",children:"Routing"})}),"\n",(0,r.jsxs)(n.p,{children:["Jen.js uses file-based routing with zero configuration. Routes are auto-discovered from your ",(0,r.jsx)(n.code,{children:"site/"})," directory."]}),"\n",(0,r.jsx)(n.h2,{id:"basic-routing",children:"Basic Routing"}),"\n",(0,r.jsxs)(n.p,{children:["Routes are defined by creating files with the pattern ",(0,r.jsx)(n.code,{children:"(routeName).tsx"})," or ",(0,r.jsx)(n.code,{children:"(routeName).ts"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"simple-routes",children:"Simple Routes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u251c\u2500\u2500 (home).tsx       \u2192 /\n\u251c\u2500\u2500 (about).tsx      \u2192 /about\n\u251c\u2500\u2500 (contact).tsx    \u2192 /contact\n\u2514\u2500\u2500 (blog).tsx       \u2192 /blog\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/(about).tsx"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default function About() {\n  return (\n    <div>\n      <h1>About Us</h1>\n      <p>Learn more about our company.</p>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.code,{children:"/about"})," in your browser."]}),"\n",(0,r.jsx)(n.h2,{id:"nested-routes",children:"Nested Routes"}),"\n",(0,r.jsx)(n.p,{children:"Use directories for nested routes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u251c\u2500\u2500 (home).tsx          \u2192 /\n\u251c\u2500\u2500 posts/\n\u2502   \u251c\u2500\u2500 (index).tsx     \u2192 /posts\n\u2502   \u2514\u2500\u2500 (popular).tsx   \u2192 /posts/popular\n\u2514\u2500\u2500 docs/\n    \u251c\u2500\u2500 (index).tsx     \u2192 /docs\n    \u2514\u2500\u2500 (getting-started).tsx \u2192 /docs/getting-started\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/posts/(index).tsx"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default function Posts() {\n  return <h1>All Posts</h1>;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.code,{children:"/posts"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"dynamic-routes",children:"Dynamic Routes"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"$"})," prefix for dynamic parameters:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u251c\u2500\u2500 posts/\n\u2502   \u2514\u2500\u2500 ($id).tsx     \u2192 /posts/:id\n\u251c\u2500\u2500 users/\n\u2502   \u2514\u2500\u2500 ($username).tsx \u2192 /users/:username\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 (...slug).tsx  \u2192 /docs/* (catch-all)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"single-parameter",children:"Single Parameter"}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/posts/($id).tsx"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { LoaderContext } from '@src/core/types';\n\ninterface RouteData {\n  id: string;\n}\n\nexport async function loader(ctx: LoaderContext) {\n  const { id } = ctx.params;\n  \n  // Fetch post by ID\n  return {\n    id,\n    title: `Post ${id}`,\n    content: 'Post content here...'\n  };\n}\n\nexport default function Post({ data }: { data: RouteData }) {\n  return (\n    <article>\n      <h1>{data.title}</h1>\n      <p>{data.content}</p>\n    </article>\n  );\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.code,{children:"/posts/123"})," - the ID is passed to your component."]}),"\n",(0,r.jsx)(n.h3,{id:"multiple-parameters",children:"Multiple Parameters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u2514\u2500\u2500 users/\n    \u2514\u2500\u2500 ($username)/\n        \u2514\u2500\u2500 ($postId).tsx   \u2192 /users/:username/:postId\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/users/($username)/($postId).tsx"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default function UserPost({ data }: any) {\n  const { username, postId } = data.params;\n  \n  return (\n    <div>\n      <h1>{username}'s Post {postId}</h1>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"catch-all-routes",children:"Catch-All Routes"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"(...rest)"})," to match any path:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 (...slug).tsx   \u2192 /docs/* (and /docs/a/b/c/...)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/docs/(...slug).tsx"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default function Docs({ data }: any) {\n  const { slug } = data.params;\n  \n  return <h1>Documentation: {slug.join('/')}</h1>;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.code,{children:"/docs/getting-started/installation"})," - ",(0,r.jsx)(n.code,{children:"slug"})," will be ",(0,r.jsx)(n.code,{children:"['getting-started', 'installation']"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"route-configuration",children:"Route Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"file-extensions",children:"File Extensions"}),"\n",(0,r.jsx)(n.p,{children:"Jen.js recognizes these extensions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".tsx"})," - React/Preact component (page route)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".ts"})," - TypeScript (API route)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".jsx"})," - JavaScript component"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".js"})," - JavaScript (API route)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"export-properties",children:"Export Properties"}),"\n",(0,r.jsx)(n.h4,{id:"default-export-required-for-pages",children:"Default Export (Required for Pages)"}),"\n",(0,r.jsx)(n.p,{children:"Your route component:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export default function Page({ data }: any) {\n  return <h1>Hello</h1>;\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"loader-function-optional",children:[(0,r.jsx)(n.code,{children:"loader"})," Function (Optional)"]}),"\n",(0,r.jsx)(n.p,{children:"Load data before rendering:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export async function loader(ctx: LoaderContext) {\n  return {\n    title: 'Page Title',\n    items: []\n  };\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The returned object is passed as the ",(0,r.jsx)(n.code,{children:"data"})," prop."]}),"\n",(0,r.jsxs)(n.h4,{id:"head-function-optional",children:[(0,r.jsx)(n.code,{children:"Head"})," Function (Optional)"]}),"\n",(0,r.jsx)(n.p,{children:"Set custom head tags:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export function Head({ data }: any) {\n  return (\n    <>\n      <title>{data.title}</title>\n      <meta name="description" content={data.description} />\n    </>\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"api-routes",children:"API Routes"}),"\n",(0,r.jsxs)(n.p,{children:["API routes are ",(0,r.jsx)(n.code,{children:".ts"})," files that export an async ",(0,r.jsx)(n.code,{children:"handle"})," function:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/api/\n\u251c\u2500\u2500 (users).ts       \u2192 /api/users\n\u2514\u2500\u2500 auth/\n    \u2514\u2500\u2500 (login).ts   \u2192 /api/auth/login\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/api/(users).ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { IncomingMessage, ServerResponse } from 'node:http';\n\nexport async function handle(req: IncomingMessage, res: ServerResponse) {\n  if (req.method === 'GET') {\n    res.writeHead(200, { 'content-type': 'application/json' });\n    res.end(JSON.stringify({ users: [{ id: 1, name: 'Alice' }] }));\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Make a request: ",(0,r.jsx)(n.code,{children:"GET /api/users"})," returns JSON."]}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-api-routes",children:"Dynamic API Routes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/api/\n\u2514\u2500\u2500 users/\n    \u2514\u2500\u2500 ($id).ts    \u2192 /api/users/:id\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"site/api/users/($id).ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export async function handle(req: IncomingMessage, res: ServerResponse) {\n  const { id } = req.params as { id: string };\n  \n  res.writeHead(200, { 'content-type': 'application/json' });\n  res.end(JSON.stringify({ id, name: `User ${id}` }));\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["Access query strings via ",(0,r.jsx)(n.code,{children:"ctx.query"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export async function loader(ctx: LoaderContext) {\n  const { page = '1', limit = '10' } = ctx.query;\n  \n  return {\n    page: parseInt(page),\n    limit: parseInt(limit)\n  };\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.code,{children:"/posts?page=2&limit=20"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"route-context",children:"Route Context"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"loader"})," function receives a ",(0,r.jsx)(n.code,{children:"LoaderContext"})," object:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface LoaderContext {\n  params: Record<string, string>;        // Dynamic route params\n  query: Record<string, string | string[]>; // Query string\n  req?: IncomingMessage;                 // HTTP request (SSR only)\n  res?: ServerResponse;                  // HTTP response (SSR only)\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"rendering-modes",children:"Rendering Modes"}),"\n",(0,r.jsx)(n.h3,{id:"ssg-static-site-generation",children:"SSG (Static Site Generation)"}),"\n",(0,r.jsx)(n.p,{children:"Route components are rendered at build time:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,r.jsxs)(n.p,{children:["All routes become static ",(0,r.jsx)(n.code,{children:".html"})," files in ",(0,r.jsx)(n.code,{children:"dist/"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Set in ",(0,r.jsx)(n.code,{children:"jen.config.ts"}),":"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  rendering: {\n    defaultMode: 'ssg'\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ssr-server-side-rendering",children:"SSR (Server-Side Rendering)"}),"\n",(0,r.jsx)(n.p,{children:"Routes are rendered on-demand:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run dev\nnpm run start\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Set in ",(0,r.jsx)(n.code,{children:"jen.config.ts"}),":"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  rendering: {\n    defaultMode: 'ssr'\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"route-prefetching",children:"Route Prefetching"}),"\n",(0,r.jsxs)(n.p,{children:["Link to other routes with the ",(0,r.jsx)(n.code,{children:"<a>"})," tag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export default function Home() {\n  return (\n    <div>\n      <h1>Home</h1>\n      <a href="/about">About Us</a>\n      <a href="/posts/1">Read Post</a>\n    </div>\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use meaningful names"})," - ",(0,r.jsx)(n.code,{children:"(about).tsx"})," not ",(0,r.jsx)(n.code,{children:"(page).tsx"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep routes shallow"})," - Avoid deeply nested directories"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use dynamic routes"})," for parametrized content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lazy load data"})," - Use ",(0,r.jsx)(n.code,{children:"loader"})," to fetch before render"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test routing"})," - Ensure all routes render correctly"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"blog-post-list--detail",children:"Blog Post List & Detail"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u2514\u2500\u2500 posts/\n    \u251c\u2500\u2500 (index).tsx      # /posts\n    \u2514\u2500\u2500 ($slug).tsx      # /posts/:slug\n"})}),"\n",(0,r.jsx)(n.h3,{id:"admin-dashboard",children:"Admin Dashboard"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/\n\u2514\u2500\u2500 admin/\n    \u251c\u2500\u2500 (dashboard).tsx  # /admin/dashboard\n    \u251c\u2500\u2500 users/\n    \u2502   \u251c\u2500\u2500 (index).tsx  # /admin/users\n    \u2502   \u2514\u2500\u2500 ($id).tsx    # /admin/users/:id\n    \u2514\u2500\u2500 settings/\n        \u2514\u2500\u2500 (index).tsx  # /admin/settings\n"})}),"\n",(0,r.jsx)(n.h3,{id:"api-with-authentication",children:"API with Authentication"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"site/api/\n\u251c\u2500\u2500 (public).ts          # Public endpoint\n\u2514\u2500\u2500 auth/\n    \u251c\u2500\u2500 (login).ts       # Login endpoint\n    \u2514\u2500\u2500 (logout).ts      # Logout endpoint\n"})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./ssg-ssr",children:"SSG vs SSR"})," - Choose your rendering mode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./components",children:"Components & Data"})," - Build interactive routes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./api",children:"API Routes"})," - Create REST endpoints"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},6145(e,n,s){s.d(n,{R:()=>d,x:()=>o});var t=s(7140);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);